{"ast":null,"code":"import _slicedToArray from \"/Users/nathanielmosco/CODE/Build-Week/Week-2-Weight-Lifting-Again/WL_FrontEnd/workout/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nathanielmosco/CODE/Build-Week/Week-2-Weight-Lifting-Again/WL_FrontEnd/workout/src/components/CurrentWorkout.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { PrimaryBtn, SecondaryBtn } from \"./Buttons\";\nimport { Today, Weekday } from \"./TodayAndID\";\nimport CurrentWorkoutCard from \"./CurrentWorkoutCard\"; // Context\n\nimport { WorkoutContext } from \"../contexts/WorkoutContext\";\nimport axiosWithAuth from \"../utils/axiosWithAuth\";\nexport default function CurrentWorkout(props) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        workout = _useState2[0],\n        setWorkout = _useState2[1];\n\n  const getWorkout = () => {\n    axiosWithAuth().get(\"/workouts/\".concat(workoutid)).then(res => {\n      setWorkout(res.data);\n    }).catch(err => console.log('Get request current workout failed b/c ', err.response));\n  };\n\n  useEffect(() => {\n    getWorkout();\n  }, []); // const { workoutsArray } = useContext(WorkoutContext); \n\n  const exerciseCards = workout.map(exercise => React.createElement(CurrentWorkoutCard, {\n    exercise: exercise,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }));\n\n  const handleChange = () => {\n    axiosWithAuth().post(\"/workouts/current\", workout).then(results => {\n      console.log(results);\n    }).catch(error => {\n      console.log(\"error, did not post workout submission correctly\", error);\n    });\n    setWorkout([]);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, Today(), \" - \", Weekday()), exerciseCards, React.createElement(Link, {\n    to: \"/add-exercise\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(SecondaryBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Add Exercise\")), React.createElement(Link, {\n    to: \"/history\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(PrimaryBtn, {\n    onClick: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Submit Workout\")));\n}","map":{"version":3,"sources":["/Users/nathanielmosco/CODE/Build-Week/Week-2-Weight-Lifting-Again/WL_FrontEnd/workout/src/components/CurrentWorkout.js"],"names":["React","useState","useEffect","useContext","styled","Link","PrimaryBtn","SecondaryBtn","Today","Weekday","CurrentWorkoutCard","WorkoutContext","axiosWithAuth","CurrentWorkout","props","workout","setWorkout","getWorkout","get","workoutid","then","res","data","catch","err","console","log","response","exerciseCards","map","exercise","handleChange","post","results","error"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,UAAR,EAAoBC,YAApB,QAAuC,WAAvC;AACA,SAAQC,KAAR,EAAeC,OAAf,QAA6B,cAA7B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B,C,CAEA;;AACA,SAAQC,cAAR,QAA6B,4BAA7B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AAGA,eAAe,SAASC,cAAT,CAAyBC,KAAzB,EAAgC;AAAA,oBAEbb,QAAQ,CAAC,EAAD,CAFK;AAAA;AAAA,QAEpCc,OAFoC;AAAA,QAE3BC,UAF2B;;AAI3C,QAAMC,UAAU,GAAG,MAAM;AACrBL,IAAAA,aAAa,GACRM,GADL,qBACsBC,SADtB,GAEKC,IAFL,CAEUC,GAAG,IAAI;AACTL,MAAAA,UAAU,CAACK,GAAG,CAACC,IAAL,CAAV;AACH,KAJL,EAKKC,KALL,CAKWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAY,yCAAZ,EAAuDF,GAAG,CAACG,QAA3D,CALlB;AAMH,GAPD;;AASAzB,EAAAA,SAAS,CAAC,MAAM;AACZe,IAAAA,UAAU;AACb,GAFQ,EAEN,EAFM,CAAT,CAb2C,CAiB3C;;AAED,QAAMW,aAAa,GAAEb,OAAO,CAACc,GAAR,CAAYC,QAAQ,IACpC,oBAAC,kBAAD;AAAoB,IAAA,QAAQ,EAAEA,QAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADgB,CAArB;;AAGC,QAAMC,YAAY,GAAG,MAAM;AACvBnB,IAAAA,aAAa,GACZoB,IADD,CACM,mBADN,EAC2BjB,OAD3B,EAECK,IAFD,CAEMa,OAAO,IAAI;AACbR,MAAAA,OAAO,CAACC,GAAR,CAAYO,OAAZ;AACH,KAJD,EAKCV,KALD,CAKOW,KAAK,IAAG;AACXT,MAAAA,OAAO,CAACC,GAAR,CAAY,kDAAZ,EAAgEQ,KAAhE;AACH,KAPD;AAQAlB,IAAAA,UAAU,CAAC,EAAD,CAAV;AACH,GAVD;;AAWA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKR,KAAK,EAAV,SAAiBC,OAAO,EAAxB,CADJ,EAEKmB,aAFL,EAGI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAHJ,EAMI,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,UAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEG,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CANJ,CADJ;AAaH","sourcesContent":["import React, {useState, useEffect, useContext} from \"react\";\nimport styled from \"styled-components\";\nimport {Link} from \"react-router-dom\";\nimport {PrimaryBtn, SecondaryBtn} from \"./Buttons\";\nimport {Today, Weekday} from \"./TodayAndID\";\nimport CurrentWorkoutCard from \"./CurrentWorkoutCard\";\n\n// Context\nimport {WorkoutContext} from \"../contexts/WorkoutContext\";\nimport axiosWithAuth from \"../utils/axiosWithAuth\";\n\n\nexport default function CurrentWorkout (props) {\n\n    const [workout, setWorkout] = useState([]);\n\n    const getWorkout = () => {\n        axiosWithAuth()\n            .get(`/workouts/${workoutid}`)\n            .then(res => {\n                setWorkout(res.data);\n            })\n            .catch(err => console.log('Get request current workout failed b/c ', err.response))\n    }\n\n    useEffect(() => {\n        getWorkout();\n    }, [])\n    \n    // const { workoutsArray } = useContext(WorkoutContext); \n\n   const exerciseCards= workout.map(exercise => \n        <CurrentWorkoutCard exercise={exercise}/>\n    )\n    const handleChange = () => {\n        axiosWithAuth()\n        .post(\"/workouts/current\", workout)\n        .then(results => {\n            console.log(results)\n        })\n        .catch(error =>{\n            console.log(\"error, did not post workout submission correctly\", error)\n        })\n        setWorkout([]);\n    }\n    return(\n        <div>\n            <h3>{Today()} - {Weekday()}</h3>\n            {exerciseCards}\n            <Link to=\"/add-exercise\">\n                <SecondaryBtn>Add Exercise</SecondaryBtn>\n            </Link>\n            <Link to=\"/history\">\n                <PrimaryBtn onClick={handleChange}>Submit Workout</PrimaryBtn>\n            </Link>\n        {/* <CurrentWorkoutCard key={workout.id} {...workoutsArray} workout={workout} />  */}\n        </div>\n    );  \n}"]},"metadata":{},"sourceType":"module"}