{"ast":null,"code":"import _slicedToArray from \"/Users/nathanielmosco/CODE/Build-Week/Week-2-Weight-Lifting-Again/WL_FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/nathanielmosco/CODE/Build-Week/Week-2-Weight-Lifting-Again/WL_FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/nathanielmosco/CODE/Build-Week/Week-2-Weight-Lifting-Again/WL_FrontEnd/src/components/Login.js\";\n\nfunction _templateObject6() {\n  const data = _taggedTemplateLiteral([\"\\n    width: 400px;\\n    margin: auto;\\n    text-align: initial;\\n    padding-bottom: 25px;\\n\"]);\n\n  _templateObject6 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  const data = _taggedTemplateLiteral([\"\\n    background: #fffefe;\\n    width: 500px;\\n    margin: auto;\\n    box-shadow: 0px 1px 3px 0px #aaa;\\n    height: 425px;\\n    padding-top: 30px;\\n    margin-top: 45px;\\n\"]);\n\n  _templateObject5 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n    text-align: left;\\n    margin-bottom: 5px;\\n    padding: 5px;\\n    \"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n    width: 400px;\\n    margin: auto;\\n    padding-top: 15px;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n    background: #276fd6;\\n    border-radius: 5px;\\n    border: 2px solid #276fd6;\\n    color: white;\\n    padding: 0.25em 1em;\\n    height: 40px;\\n    width: 100%;\\n  \"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: center;\\n    margin: 30px;\\n    display: flex;\\n    flex-direction: column;\\n    width: 400px;\\n    margin: auto;\\n    padding: 7px;\\n    margin-bottom: 7px;\\n    \"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { history } from '../App';\nconst Div = styled.div(_templateObject());\nconst StyledButton = styled.button(_templateObject2());\nconst Section = styled.section(_templateObject3());\nconst Label = styled.label(_templateObject4());\nconst errorStyles = {\n  color: '#c02525',\n  fontSize: '.8rem',\n  textAlign: 'left',\n  marginTop: '10px'\n};\nconst inputStyles = {\n  height: '30px',\n  border: '2px solid #1e90ff',\n  borderRadius: '5px',\n  padding: '5px'\n};\nconst MainContainer = styled.div(_templateObject5());\nconst MyH1 = styled.h1(_templateObject6());\nconst login = {\n  email: '',\n  password: ''\n};\n\nfunction Login(props) {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n  const onSubmit = values => {\n    console.log(values);\n    setLoading(true);\n    const bodyData = new FormData();\n    bodyData.set('username', values.username);\n    bodyData.set('password', values.password);\n    bodyData.set('grant_type', 'password');\n    axios({\n      method: 'POST',\n      url: 'https://lifting-weights-java.herokuapp.com/login',\n      data: bodyData,\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: \"Basic \".concat(btoa(\"pl,mkoijn:pl,mkoijn\"))\n      }\n    }).then(response => {\n      setLoading(false);\n      localStorage.setItem('token', response.data.access_token);\n      console.log(\"Response in Login axios POST call\", response);\n      props.setUser({\n        \"username\": values.username\n      });\n      history.push('/');\n    }).catch(error => {\n      // console.log(error.response)\n      setLoading(false);\n    });\n  };\n\n  const ValidationSchema = Yup.object().shape({\n    username: Yup.string().required(\"Username is required\"),\n    password: Yup.string().min(8, \"Password must be 8 characters or longer\").required(\"Password is required\")\n  });\n  return React.createElement(MainContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(MyH1, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, \"Login\"), React.createElement(Formik, {\n    validationSchema: ValidationSchema,\n    initialValues: login,\n    onSubmit: onSubmit,\n    render: props => {\n      return React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Div, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Username\"), React.createElement(Field, {\n        name: \"username\",\n        type: \"text\",\n        placeholder: \"Enter Username\",\n        style: inputStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(ErrorMessage, {\n        name: \"username\",\n        component: \"div\",\n        style: errorStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      })), React.createElement(Div, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Password\"), React.createElement(Field, {\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Enter Password\",\n        style: inputStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }), React.createElement(ErrorMessage, {\n        name: \"password\",\n        component: \"div\",\n        style: errorStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      })), React.createElement(Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(StyledButton, {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, loading ? \"Submitting\" : \"Login\")));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }));\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/nathanielmosco/CODE/Build-Week/Week-2-Weight-Lifting-Again/WL_FrontEnd/src/components/Login.js"],"names":["React","useState","Formik","Form","Field","ErrorMessage","Yup","styled","axios","history","Div","div","StyledButton","button","Section","section","Label","label","errorStyles","color","fontSize","textAlign","marginTop","inputStyles","height","border","borderRadius","padding","MainContainer","MyH1","h1","login","email","password","Login","props","loading","setLoading","onSubmit","values","console","log","bodyData","FormData","set","username","method","url","data","headers","Authorization","btoa","then","response","localStorage","setItem","access_token","setUser","push","catch","error","ValidationSchema","object","shape","string","required","min"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { history } from '../App'\n\n\n\n\nconst Div = styled.div`\n    display: flex;\n    justify-content: center;\n    margin: 30px;\n    display: flex;\n    flex-direction: column;\n    width: 400px;\n    margin: auto;\n    padding: 7px;\n    margin-bottom: 7px;\n    `;\n\nconst StyledButton = styled.button`\n    background: #276fd6;\n    border-radius: 5px;\n    border: 2px solid #276fd6;\n    color: white;\n    padding: 0.25em 1em;\n    height: 40px;\n    width: 100%;\n  `;\n\nconst Section = styled.section`\n    width: 400px;\n    margin: auto;\n    padding-top: 15px;\n`;\n\nconst Label = styled.label`\n    text-align: left;\n    margin-bottom: 5px;\n    padding: 5px;\n    `;\n\nconst errorStyles = {\n    color: '#c02525',\n    fontSize: '.8rem',\n    textAlign: 'left',\n    marginTop: '10px',\n}\n\nconst inputStyles = {\n    height: '30px',\n    border: '2px solid #1e90ff',\n    borderRadius: '5px',\n    padding: '5px'\n}\n\nconst MainContainer = styled.div`\n    background: #fffefe;\n    width: 500px;\n    margin: auto;\n    box-shadow: 0px 1px 3px 0px #aaa;\n    height: 425px;\n    padding-top: 30px;\n    margin-top: 45px;\n`;\n\nconst MyH1 = styled.h1`\n    width: 400px;\n    margin: auto;\n    text-align: initial;\n    padding-bottom: 25px;\n`;\n\nconst login = {\n    email: '',\n    password: '',\n};\n\n\n\nfunction Login(props) {\n\n    const [loading, setLoading] = useState(false)\n\n    const onSubmit = (values) => {\n        console.log(values)\n        setLoading(true)\n\n        const bodyData = new FormData();\n        bodyData.set('username', values.username);\n        bodyData.set('password', values.password);\n        bodyData.set('grant_type', 'password');\n\n        axios({\n            method: 'POST',\n            url: 'https://lifting-weights-java.herokuapp.com/login',\n            data: bodyData,\n\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                Authorization: `Basic ${btoa(\"pl,mkoijn:pl,mkoijn\")}`\n            }\n        })\n            .then((response) => {\n                setLoading(false)\n                localStorage.setItem('token', response.data.access_token);\n                console.log(\"Response in Login axios POST call\", response);\n                props.setUser({\"username\": values.username});\n                history.push('/');\n            })\n            .catch((error) => {\n                // console.log(error.response)\n                setLoading(false)\n            })\n    }\n\n\n    const ValidationSchema = Yup.object().shape({\n        username: Yup.string().required(\"Username is required\"),\n        password: Yup.string().min(8, \"Password must be 8 characters or longer\").required(\"Password is required\")\n    });\n\n\n    return (\n        <MainContainer>\n            <MyH1>Login</MyH1>\n            <Formik\n                validationSchema={ValidationSchema}\n                initialValues={login}\n                onSubmit={onSubmit}\n                render={props => {\n                    return (\n\n                        <Form>\n                            <Div>\n                                <Label>\n                                    Username\n                                    </Label>\n                                <Field name='username' type='text' placeholder='Enter Username' style={inputStyles} />\n                                <ErrorMessage name='username' component='div' style={errorStyles} />\n\n                            </Div>\n\n                            <Div>\n                                <Label>\n                                    Password\n                                </Label>\n\n                                <Field name='password' type='password' placeholder='Enter Password' style={inputStyles} />\n                                <ErrorMessage name='password' component='div' style={errorStyles} />\n\n                            </Div>\n\n                            <Section>\n                                <StyledButton type='submit'>{loading ? \"Submitting\" : \"Login\"}</StyledButton>\n                            </Section>\n                        </Form>\n                    )\n                }}\n            />\n        </MainContainer>\n    )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}